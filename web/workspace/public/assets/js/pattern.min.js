"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Pattern=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){var b=a.length;return function(){return a[~~(Math.random()*b)]}}function e(a){this.container=a,this.handlers={}}var f=a("d3-selection"),g=f.select,h=a("d3-voronoi"),i=h.voronoi,j={gen:function(a,b,c){for(var d=[],e=0;e<a;e++)for(var f=0;f<b;f++)d.push({x:e*c,y:f*c});return d},parametric:function(a,b){var c=Math.sqrt(a/b);return{rows:c,cols:c*b}}};e.prototype.destroy=function(){this.svg.remove()},e.prototype.init=function(a){function b(a){a.classed("primary",function(a){return a[0]===s[0]||a[1]===s[0]||a[2]===s[0]}).attr("d",function(a){return"M"+a.join("L")+"Z"}).style("fill",function(){return o()}).style("stroke",function(){return g(this).style("fill")})}var c=parseInt(a.width||window.innerWidth,10),e=parseInt(a.height||window.innerHeight,10),f=Math.ceil(a.size||50),h=c*e/Math.pow(f,2),k=c/e;this.svg=g(this.container).append("svg").attr("class","frame");var l=Math.max(.001,a.spread.x),m=Math.max(.001,a.spread.y),n=4,o=d(a.colors),p=j.parametric(h,k),q=Math.ceil(p.cols)+n,r=Math.ceil(p.rows)+n,s=j.gen(q,r,f).map(function(a){return[a.x+(f*Math.random()-f/2)*l,a.y+(f*Math.random()-f/2)*m]});this.svg.attr("width",c),this.svg.attr("height",e);var t=this.svg.append("g");t.attr("transform","translate("+-f*n/2+", "+-f*n/2+")");var u=i();t.append("g").attr("class","triangles").selectAll("path").data(u.triangles(s)).enter().append("path").call(b)},b.exports=e},{"d3-selection":2,"d3-voronoi":3}],2:[function(b,c,d){!function(b,e){"object"===("undefined"==typeof d?"undefined":_typeof(d))&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){function b(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),Qa.hasOwnProperty(b)?{space:Qa[b],local:a}:a}function c(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===Pa&&b.documentElement.namespaceURI===Pa?b.createElement(a):b.createElementNS(c,a)}}function d(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function e(a){var e=b(a);return(e.local?d:c)(e)}function f(){return new g}function g(){this._="@"+(++Ra).toString(36)}function h(a,b,c){return a=i(a,b,c),function(b){var c=b.relatedTarget;c&&(c===this||8&c.compareDocumentPosition(this))||a.call(this,b)}}function i(b,c,d){return function(e){var f=a.event;a.event=e;try{b.call(this,this.__data__,c,d)}finally{a.event=f}}}function j(a){return a.trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}})}function k(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)c=b[d],a.type&&c.type!==a.type||c.name!==a.name?b[++e]=c:this.removeEventListener(c.type,c.listener,c.capture);++e?b.length=e:delete this.__on}}}function l(a,b,c){var d=Wa.hasOwnProperty(a.type)?h:i;return function(e,f,g){var h,i=this.__on,j=d(b,f,g);if(i)for(var k=0,l=i.length;k<l;++k)if((h=i[k]).type===a.type&&h.name===a.name)return this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=j,h.capture=c),void(h.value=b);this.addEventListener(a.type,j,c),h={type:a.type,name:a.name,value:b,listener:j,capture:c},i?i.push(h):this.__on=[h]}}function m(a,b,c){var d,e,f=j(a+""),g=f.length;{if(!(arguments.length<2)){for(h=b?l:k,null==c&&(c=!1),d=0;d<g;++d)this.each(h(f[d],b,c));return this}var h=this.node().__on;if(h)for(var i,m=0,n=h.length;m<n;++m)for(d=0,i=h[m];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value}}function n(b,c,d,e){var f=a.event;b.sourceEvent=a.event,a.event=b;try{return c.apply(d,e)}finally{a.event=f}}function o(){for(var b,c=a.event;b=c.sourceEvent;)c=b;return c}function p(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=b.clientX,d.y=b.clientY,d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var e=a.getBoundingClientRect();return[b.clientX-e.left-a.clientLeft,b.clientY-e.top-a.clientTop]}function q(a){var b=o();return b.changedTouches&&(b=b.changedTouches[0]),p(a,b)}function r(){}function s(a){return null==a?r:function(){return this.querySelector(a)}}function t(a){"function"!=typeof a&&(a=s(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f,g,h=b[e],i=h.length,j=d[e]=new Array(i),k=0;k<i;++k)(f=h[k])&&(g=a.call(f,f.__data__,k,h))&&("__data__"in f&&(g.__data__=f.__data__),j[k]=g);return new Ja(d,this._parents)}function u(){return[]}function v(a){return null==a?u:function(){return this.querySelectorAll(a)}}function w(a){"function"!=typeof a&&(a=v(a));for(var b=this._groups,c=b.length,d=[],e=[],f=0;f<c;++f)for(var g,h=b[f],i=h.length,j=0;j<i;++j)(g=h[j])&&(d.push(a.call(g,g.__data__,j,h)),e.push(g));return new Ja(d,e)}function x(a){"function"!=typeof a&&(a=Va(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new Ja(d,this._parents)}function y(a){return new Array(a.length)}function z(){return new Ja(this._enter||this._groups.map(y),this._parents)}function A(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function B(a){return function(){return a}}function C(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new A(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function D(a,b,c,d,e,f,g){var h,i,j,k={},l=b.length,m=f.length,n=new Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=Ya+g.call(i,i.__data__,h,b),j in k?e[h]=i:k[j]=i);for(h=0;h<m;++h)j=Ya+g.call(a,f[h],h,f),(i=k[j])?(d[h]=i,i.__data__=f[h],k[j]=null):c[h]=new A(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k[n[h]]===i&&(e[h]=i)}function E(a,b){if(!a)return n=new Array(this.size()),j=-1,this.each(function(a){n[++j]=a}),n;var c=b?D:C,d=this._parents,e=this._groups;"function"!=typeof a&&(a=B(a));for(var f=e.length,g=new Array(f),h=new Array(f),i=new Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n=a.call(k,k&&k.__data__,j,d),o=n.length,p=h[j]=new Array(o),q=g[j]=new Array(o),r=i[j]=new Array(m);c(k,l,p,q,r,n,b);for(var s,t,u=0,v=0;u<o;++u)if(s=p[u]){for(u>=v&&(v=u+1);!(t=q[v])&&++v<o;);s._next=t||null}}return g=new Ja(g,d),g._enter=h,g._exit=i,g}function F(){return new Ja(this._exit||this._groups.map(y),this._parents)}function G(a){for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=new Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new Ja(g,this._parents)}function H(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&g!==d.nextSibling&&g.parentNode.insertBefore(d,g),g=d);return this}function I(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=J);for(var c=this._groups,d=c.length,e=new Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=new Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new Ja(e,this._parents).order()}function J(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function K(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function L(){var a=new Array(this.size()),b=-1;return this.each(function(){a[++b]=this}),a}function M(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null}function N(){var a=0;return this.each(function(){++a}),a}function O(){return!this.node()}function P(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this}function Q(a){return function(){this.removeAttribute(a)}}function R(a){return function(){this.removeAttributeNS(a.space,a.local)}}function S(a,b){return function(){this.setAttribute(a,b)}}function T(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function U(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function V(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function W(a,c){var d=b(a);if(arguments.length<2){var e=this.node();return d.local?e.getAttributeNS(d.space,d.local):e.getAttribute(d)}return this.each((null==c?d.local?R:Q:"function"==typeof c?d.local?V:U:d.local?T:S)(d,c))}function X(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function Y(a){return function(){this.style.removeProperty(a)}}function Z(a,b,c){return function(){this.style.setProperty(a,b,c)}}function $(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function _(a,b,c){var d;return arguments.length>1?this.each((null==b?Y:"function"==typeof b?$:Z)(a,b,null==c?"":c)):X(d=this.node()).getComputedStyle(d,null).getPropertyValue(a)}function aa(a){return function(){delete this[a]}}function ba(a,b){return function(){this[a]=b}}function ca(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function da(a,b){return arguments.length>1?this.each((null==b?aa:"function"==typeof b?ca:ba)(a,b)):this.node()[a]}function ea(a){return a.trim().split(/^|\s+/)}function fa(a){return a.classList||new ga(a)}function ga(a){this._node=a,this._names=ea(a.getAttribute("class")||"")}function ha(a,b){for(var c=fa(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function ia(a,b){for(var c=fa(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function ja(a){return function(){ha(this,a)}}function ka(a){return function(){ia(this,a)}}function la(a,b){return function(){(b.apply(this,arguments)?ha:ia)(this,a)}}function ma(a,b){var c=ea(a+"");if(arguments.length<2){for(var d=fa(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?la:b?ja:ka)(c,b))}function na(){this.textContent=""}function oa(a){return function(){this.textContent=a}}function pa(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function qa(a){return arguments.length?this.each(null==a?na:("function"==typeof a?pa:oa)(a)):this.node().textContent}function ra(){this.innerHTML=""}function sa(a){return function(){this.innerHTML=a}}function ta(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function ua(a){return arguments.length?this.each(null==a?ra:("function"==typeof a?ta:sa)(a)):this.node().innerHTML}function va(){this.nextSibling&&this.parentNode.appendChild(this)}function wa(){return this.each(va)}function xa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ya(){return this.each(xa)}function za(a){var b="function"==typeof a?a:e(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})}function Aa(){return null}function Ba(a,b){var c="function"==typeof a?a:e(a),d=null==b?Aa:"function"==typeof b?b:s(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})}function Ca(){var a=this.parentNode;a&&a.removeChild(this)}function Da(){return this.each(Ca)}function Ea(a){return arguments.length?this.property("__data__",a):this.node().__data__}function Fa(a,b,c){var d=X(a),e=d.CustomEvent;e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}function Ga(a,b){return function(){return Fa(this,a,b)}}function Ha(a,b){return function(){return Fa(this,a,b.apply(this,arguments))}}function Ia(a,b){return this.each(("function"==typeof b?Ha:Ga)(a,b))}function Ja(a,b){this._groups=a,this._parents=b}function Ka(){return new Ja([[document.documentElement]],Za)}function La(a){return"string"==typeof a?new Ja([[document.querySelector(a)]],[document.documentElement]):new Ja([[a]],Za)}function Ma(a){return"string"==typeof a?new Ja([document.querySelectorAll(a)],[document.documentElement]):new Ja([null==a?[]:a],Za)}function Na(a,b,c){arguments.length<3&&(c=b,b=o().changedTouches);for(var d,e=0,f=b?b.length:0;e<f;++e)if((d=b[e]).identifier===c)return p(a,d);return null}function Oa(a,b){null==b&&(b=o().touches);for(var c=0,d=b?b.length:0,e=new Array(d);c<d;++c)e[c]=p(a,b[c]);return e}var Pa="http://www.w3.org/1999/xhtml",Qa={svg:"http://www.w3.org/2000/svg",xhtml:Pa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ra=0;g.prototype=f.prototype={constructor:g,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var Sa=function(a){return function(){return this.matches(a)}};if("undefined"!=typeof document){var Ta=document.documentElement;if(!Ta.matches){var Ua=Ta.webkitMatchesSelector||Ta.msMatchesSelector||Ta.mozMatchesSelector||Ta.oMatchesSelector;Sa=function(a){return function(){return Ua.call(this,a)}}}}var Va=Sa,Wa={};if(a.event=null,"undefined"!=typeof document){var Xa=document.documentElement;"onmouseenter"in Xa||(Wa={mouseenter:"mouseover",mouseleave:"mouseout"})}A.prototype={constructor:A,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var Ya="$";ga.prototype={add:function(a){var b=this._names.indexOf(a);b<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var Za=[null];Ja.prototype=Ka.prototype={constructor:Ja,select:t,selectAll:w,filter:x,data:E,enter:z,exit:F,merge:G,order:H,sort:I,call:K,nodes:L,node:M,size:N,empty:O,each:P,attr:W,style:_,property:da,classed:ma,text:qa,html:ua,raise:wa,lower:ya,append:za,insert:Ba,remove:Da,datum:Ea,on:m,dispatch:Ia},a.creator=e,a.local=f,a.matcher=Va,a.mouse=q,a.namespace=b,a.namespaces=Qa,a.select=La,a.selectAll=Ma,a.selection=Ka,a.selector=s,a.selectorAll=v,a.touch=Na,a.touches=Oa,a.window=X,a.customEvent=n,Object.defineProperty(a,"__esModule",{value:!0})})},{}],3:[function(b,c,d){!function(b,e){"object"===("undefined"==typeof d?"undefined":_typeof(d))&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){function b(a){return function(){return a}}function c(a){return a[0]}function d(a){return a[1]}function e(){this._=null}function f(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function g(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function h(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function i(a){for(;a.L;)a=a.L;return a}function j(a,b,c,d){var e=[null,null],f=N.push(e)-1;return e.left=a,e.right=b,c&&l(e,a,b,c),d&&l(e,b,a,d),L[a.index].halfedges.push(f),L[b.index].halfedges.push(f),e}function k(a,b,c){var d=[b,c];return d.left=a,d}function l(a,b,c,d){a[0]||a[1]?a.left===c?a[1]=d:a[0]=d:(a[0]=d,a.left=b,a.right=c)}function m(a,b,c,d,e){var f,g=a[0],h=a[1],i=g[0],j=g[1],k=h[0],l=h[1],m=0,n=1,o=k-i,p=l-j;if(f=b-i,o||!(f>0)){if(f/=o,o<0){if(f<m)return;f<n&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=d-i,o||!(f<0)){if(f/=o,o<0){if(f>n)return;f>m&&(m=f)}else if(o>0){if(f<m)return;f<n&&(n=f)}if(f=c-j,p||!(f>0)){if(f/=p,p<0){if(f<m)return;f<n&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=e-j,p||!(f<0)){if(f/=p,p<0){if(f>n)return;f>m&&(m=f)}else if(p>0){if(f<m)return;f<n&&(n=f)}return!(m>0||n<1)||(m>0&&(a[0]=[i+m*o,j+m*p]),n<1&&(a[1]=[i+n*o,j+n*p]),!0)}}}}}function n(a,b,c,d,e){var f=a[1];if(f)return!0;var g,h,i=a[0],j=a.left,k=a.right,l=j[0],m=j[1],n=k[0],o=k[1],p=(l+n)/2,q=(m+o)/2;if(o===m){if(p<b||p>=d)return;if(l>n){if(i){if(i[1]>=e)return}else i=[p,c];f=[p,e]}else{if(i){if(i[1]<c)return}else i=[p,e];f=[p,c]}}else if(g=(l-n)/(o-m),h=q-g*p,g<-1||g>1)if(l>n){if(i){if(i[1]>=e)return}else i=[(c-h)/g,c];f=[(e-h)/g,e]}else{if(i){if(i[1]<c)return}else i=[(e-h)/g,e];f=[(c-h)/g,c]}else if(m<o){if(i){if(i[0]>=d)return}else i=[b,g*b+h];f=[d,g*d+h]}else{if(i){if(i[0]<b)return}else i=[d,g*d+h];f=[b,g*b+h]}return a[0]=i,a[1]=f,!0}function o(a,b,c,d){for(var e,f=N.length;f--;)n(e=N[f],a,b,c,d)&&m(e,a,b,c,d)&&(Math.abs(e[0][0]-e[1][0])>Q||Math.abs(e[0][1]-e[1][1])>Q)||delete N[f]}function p(a){return L[a.index]={site:a,halfedges:[]}}function q(a,b){var c=a.site,d=b.left,e=b.right;return c===e&&(e=d,d=c),e?Math.atan2(e[1]-d[1],e[0]-d[0]):(c===d?(d=b[1],e=b[0]):(d=b[0],e=b[1]),Math.atan2(d[0]-e[0],e[1]-d[1]))}function r(a,b){return b[+(b.left!==a.site)]}function s(a,b){return b[+(b.left===a.site)]}function t(){for(var a,b,c,d,e=0,f=L.length;e<f;++e)if((a=L[e])&&(d=(b=a.halfedges).length)){var g=new Array(d),h=new Array(d);for(c=0;c<d;++c)g[c]=c,h[c]=q(a,N[b[c]]);for(g.sort(function(a,b){return h[b]-h[a]}),c=0;c<d;++c)h[c]=b[g[c]];for(c=0;c<d;++c)b[c]=h[c]}}function u(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,p,q,t=L.length,u=!0;for(e=0;e<t;++e)if(f=L[e]){for(g=f.site,i=f.halfedges,h=i.length;h--;)N[i[h]]||i.splice(h,1);for(h=0,j=i.length;h<j;)o=s(f,N[i[h]]),p=o[0],q=o[1],l=r(f,N[i[++h%j]]),m=l[0],n=l[1],(Math.abs(p-m)>Q||Math.abs(q-n)>Q)&&(i.splice(h,0,N.push(k(g,o,Math.abs(p-a)<Q&&d-q>Q?[a,Math.abs(m-a)<Q?n:d]:Math.abs(q-d)<Q&&c-p>Q?[Math.abs(n-d)<Q?m:c,d]:Math.abs(p-c)<Q&&q-b>Q?[c,Math.abs(m-c)<Q?n:b]:Math.abs(q-b)<Q&&p-a>Q?[Math.abs(n-b)<Q?m:a,b]:null))-1),++j);j&&(u=!1)}if(u){var v,w,x,y=1/0;for(e=0,u=null;e<t;++e)(f=L[e])&&(g=f.site,v=g[0]-a,w=g[1]-b,x=v*v+w*w,x<y&&(y=x,u=f));if(u){var z=[a,b],A=[a,d],B=[c,d],C=[c,b];u.halfedges.push(N.push(k(g=u.site,z,A))-1,N.push(k(g,A,B))-1,N.push(k(g,B,C))-1,N.push(k(g,C,z))-1)}}for(e=0;e<t;++e)(f=L[e])&&(f.halfedges.length||delete L[e])}function v(){f(this),this.x=this.y=this.arc=this.site=this.cy=null}function w(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e[0],h=e[1],i=d[0]-g,j=d[1]-h,k=f[0]-g,l=f[1]-h,m=2*(i*l-j*k);if(!(m>=-R)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,r=O.pop()||new v;r.arc=a,r.site=e,r.x=p+g,r.y=(r.cy=q+h)+Math.sqrt(p*p+q*q),a.circle=r;for(var s=null,t=M._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}M.insert(s,r),s||(J=r)}}}}function x(a){var b=a.circle;b&&(b.P||(J=b.N),M.remove(b),O.push(b),f(b),a.circle=null)}function y(){f(this),this.edge=this.site=this.circle=null}function z(a){var b=P.pop()||new y;return b.site=a,b}function A(a){x(a),K.remove(a),P.push(a),f(a)}function B(a){var b=a.circle,c=b.x,d=b.cy,e=[c,d],f=a.P,g=a.N,h=[a];A(a);for(var i=f;i.circle&&Math.abs(c-i.circle.x)<Q&&Math.abs(d-i.circle.cy)<Q;)f=i.P,h.unshift(i),A(i),i=f;h.unshift(i),x(i);for(var k=g;k.circle&&Math.abs(c-k.circle.x)<Q&&Math.abs(d-k.circle.cy)<Q;)g=k.N,h.push(k),A(k),k=g;h.push(k),x(k);var m,n=h.length;for(m=1;m<n;++m)k=h[m],i=h[m-1],l(k.edge,i.site,k.site,e);i=h[0],k=h[n-1],k.edge=j(i.site,k.site,null,e),w(i),w(k)}function C(a){for(var b,c,d,e,f=a[0],g=a[1],h=K._;h;)if(d=D(h,g)-f,d>Q)h=h.L;else{if(e=f-E(h,g),!(e>Q)){d>-Q?(b=h.P,c=h):e>-Q?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}p(a);var i=z(a);if(K.insert(b,i),b||c){if(b===c)return x(b),c=z(b.site),K.insert(i,c),i.edge=c.edge=j(b.site,i.site),w(b),void w(c);if(!c)return void(i.edge=j(b.site,i.site));x(b),x(c);var k=b.site,m=k[0],n=k[1],o=a[0]-m,q=a[1]-n,r=c.site,s=r[0]-m,t=r[1]-n,u=2*(o*t-q*s),v=o*o+q*q,y=s*s+t*t,A=[(t*v-q*y)/u+m,(o*y-s*v)/u+n];l(c.edge,k,r,A),i.edge=j(k,a,null,A),c.edge=j(a,r,null,A),w(b),w(c)}}function D(a,b){var c=a.site,d=c[0],e=c[1],f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c[0],i=c[1],j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function E(a,b){var c=a.N;if(c)return D(c,b);var d=a.site;return d[1]===b?d[0]:1/0}function F(a,b,c){return(a[0]-c[0])*(b[1]-a[1])-(a[0]-b[0])*(c[1]-a[1])}function G(a,b){return b[1]-a[1]||b[0]-a[0]}function H(a,b){var c,d,f,g=a.sort(G).pop();for(N=[],L=new Array(a.length),K=new e,M=new e;;)if(f=J,g&&(!f||g[1]<f.y||g[1]===f.y&&g[0]<f.x))g[0]===c&&g[1]===d||(C(g),c=g[0],d=g[1]),g=a.pop();else{if(!f)break;B(f.arc)}if(t(),b){var h=+b[0][0],i=+b[0][1],j=+b[1][0],k=+b[1][1];o(h,i,j,k),u(h,i,j,k)}this.edges=N,this.cells=L,K=M=N=L=null}function I(){function a(a){return new H(a.map(function(b,c){var d=[Math.round(e(b,c,a)/Q)*Q,Math.round(f(b,c,a)/Q)*Q];return d.index=c,d.data=b,d}),g)}var e=c,f=d,g=null;return a.polygons=function(b){return a(b).polygons()},a.links=function(b){return a(b).links()},a.triangles=function(b){return a(b).triangles()},a.x=function(c){return arguments.length?(e="function"==typeof c?c:b(+c),a):e},a.y=function(c){return arguments.length?(f="function"==typeof c?c:b(+c),a):f},a.extent=function(b){return arguments.length?(g=null==b?null:[[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]],a):g&&[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},a.size=function(b){return arguments.length?(g=null==b?null:[[0,0],[+b[0],+b[1]]],a):g&&[g[1][0]-g[0][0],g[1][1]-g[0][1]]},a}e.prototype={constructor:e,insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=i(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(g(this,c),a=c,c=a.U),c.C=!1,d.C=!0,h(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(h(this,c),a=c,c=a.U),c.C=!1,d.C=!0,g(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,j=a.R;if(c=f?j?i(j):f:j,e?e.L===a?e.L=c:e.R=c:this._=c,f&&j?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==j?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=j,j.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,g(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,h(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,g(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,h(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,g(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,h(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}};var J,K,L,M,N,O=[],P=[],Q=1e-6,R=1e-12;H.prototype={constructor:H,polygons:function(){var a=this.edges;return this.cells.map(function(b){var c=b.halfedges.map(function(c){return r(b,a[c])});return c.data=b.site.data,c})},triangles:function a(){var a=[],b=this.edges;return this.cells.forEach(function(c,d){for(var e,f=c.site,g=c.halfedges,h=-1,i=g.length,j=b[g[i-1]],k=j.left===f?j.right:j.left;++h<i;)e=k,j=b[g[h]],k=j.left===f?j.right:j.left,d<e.index&&d<k.index&&F(f,e,k)<0&&a.push([f.data,e.data,k.data])}),a},links:function(){return this.edges.filter(function(a){return a.right}).map(function(a){return{source:a.left.data,target:a.right.data}})}},a.voronoi=I,Object.defineProperty(a,"__esModule",{value:!0})})},{}]},{},[1])(1)});